<!DOCTYPE html>

<html lang="tr" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8"/>
<title>Çalışan Listesi</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link rel="stylesheet" th:href="@{/style.css}"/></head>
<body class="container mt-4">
<h2 class="mb-4">Çalışanlar</h2>
<a class="btn btn-primary mb-3" href="/admin/employees/new">+ Yeni Çalışan</a>
<table class="table table-bordered table-striped">
<thead class="table-dark">
<tr>
<th>ID</th>
<th>Ad</th>
<th>Soyad</th>
<th>Email</th>
<th>Kullanıcı Adı</th>
<th>Departman</th>
<th>Pozisyon</th>
<th>İşlemler</th>
</tr>
</thead>
<tbody>
<tr th:each="emp : ${employees}">
<td th:text="${emp.employeeId}"></td>
<td th:text="${emp.firstName}"></td>
<td th:text="${emp.lastName}"></td>
<td th:text="${emp.email}"></td>
<td th:text="${emp.user != null ? emp.user.username : 'Yok'}"></td>
<td th:text="${emp.department != null ? emp.department.departmentName : 'Yok'}"></td>
<td th:text="${emp.job != null ? emp.job.jobsTitle : 'Yok'}"></td>
<td>
<a class="btn btn-sm btn-warning me-1" th:href="@{'/admin/employees/edit/' + ${emp.employeeId}}">Düzenle</a>
<a class="btn btn-sm btn-danger" onclick="return confirm('Bu çalışanı silmek istediğinize emin misiniz?')" th:href="@{'/admin/employees/delete/' + ${emp.employeeId}}">Sil</a>
</td>
</tr>
</tbody>
</table>
<a class="btn btn-secondary mt-3" href="/dashboard">← Geri Dön</a>
</body>
</html>
